
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Modeling Relationships &#8212; Orrery 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="icon" href="_static/OrreryLogo.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Orrery’s Event Architecture" href="event_driven_architecture.html" />
    <link rel="prev" title="Working with the Entity-Component System" href="working_with_ecs.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="modeling-relationships">
<h1>Modeling Relationships<a class="headerlink" href="#modeling-relationships" title="Permalink to this heading">¶</a></h1>
<p>Relationships are at the core of agent-based social simulation. In Orrery,
relationships track how characters feel about other characters on different
axes, changes in relationship status, and other informational tags.</p>
<p>Relationships are have two main components. The first is a set of various
relationship stats. These are specified by the user (explained below) and
can be used to represent things like platonic feelings, romantic feelings,
and trust.</p>
<section id="defining-the-schema">
<h2>Defining the schema<a class="headerlink" href="#defining-the-schema" title="Permalink to this heading">¶</a></h2>
<p>Below is an example relationship schema. The RelationshipSchema is
responsible for telling the simulation how new relationship instances
are to be configured. In this case there, are three stats within this
relationship: Friendship, Romance, and Trust. Each axis has a max and min
of 50 and -50, respectively. There can be as many or as few stats tracked
as you wish, and there are no rules for names. However, you must be
consistent in referencing each stat within other simulation code.</p>
<p>Something special to note here is the <code class="docutils literal notranslate"><span class="pre">changes_with_time</span></code> parameter.
When it is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, that relationship stat will change automatically
without two characters explicitly interacting. Since Orrery skips large
intervals of time, we needed a way to interpolate the relationship value
to give the impression that two characters most likely interacted during
that time.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">OrreryConfig</span><span class="p">(</span>
    <span class="c1"># ... other config parameters</span>
    <span class="n">relationship_schema</span><span class="o">=</span><span class="n">RelationshipSchema</span><span class="p">(</span>
        <span class="n">stats</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;Friendship&quot;</span><span class="p">:</span> <span class="n">RelationshipStatConfig</span><span class="p">(</span>
                <span class="n">min_value</span><span class="o">=-</span><span class="mi">50</span><span class="p">,</span> <span class="n">max_value</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">changes_with_time</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">),</span>
            <span class="s2">&quot;Romance&quot;</span><span class="p">:</span> <span class="n">RelationshipStatConfig</span><span class="p">(</span>
                <span class="n">min_value</span><span class="o">=-</span><span class="mi">50</span><span class="p">,</span> <span class="n">max_value</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">changes_with_time</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">),</span>
            <span class="s2">&quot;Trust&quot;</span><span class="p">:</span> <span class="n">RelationshipStatConfig</span><span class="p">(</span>
                <span class="n">min_value</span><span class="o">=-</span><span class="mi">50</span><span class="p">,</span> <span class="n">max_value</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">changes_with_time</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">),</span>
        <span class="p">}</span>
    <span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="creating-new-relationships">
<h2>Creating new relationships<a class="headerlink" href="#creating-new-relationships" title="Permalink to this heading">¶</a></h2>
<p>Relationship instances are created between characters by using the
<code class="docutils literal notranslate"><span class="pre">add_relationship</span></code> utility function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">alice</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">spawn_gameobject</span><span class="p">()</span>

<span class="n">hatter</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">spawn_gameobject</span><span class="p">()</span>

<span class="n">alice_to_hatter</span> <span class="o">=</span> <span class="n">add_relationship</span><span class="p">(</span><span class="n">alice</span><span class="p">,</span> <span class="n">hatter</span><span class="p">)</span>

<span class="n">alice_to_hatter</span><span class="p">[</span><span class="s2">&quot;Friendship&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">5</span>
<span class="n">alice_to_hatter</span><span class="p">[</span><span class="s2">&quot;Trust&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">2</span>

<span class="c1"># Attempting to access a stat not specified in the</span>
<span class="c1"># schema will give an error</span>
<span class="n">alice_to_hatter</span><span class="p">[</span><span class="s2">&quot;Attraction&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="o">-</span><span class="mi">2</span> <span class="c1"># throws RelationshipStatNotfound error</span>
</pre></div>
</div>
</section>
<section id="updating-the-stats">
<h2>Updating the stats<a class="headerlink" href="#updating-the-stats" title="Permalink to this heading">¶</a></h2>
<p>Relationship stats can be accessed by indexing into a <code class="docutils literal notranslate"><span class="pre">Relationship</span></code>
instance using the name of the stat as specified in the schema.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">relationship</span> <span class="o">=</span>
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/OrreryLogo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">Orrery</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_ecs.html">Working with the Entity-Component System</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Modeling Relationships</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#defining-the-schema">Defining the schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-new-relationships">Creating new relationships</a></li>
<li class="toctree-l2"><a class="reference internal" href="#updating-the-stats">Updating the stats</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="event_driven_architecture.html">Orrery’s Event Architecture</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="working_with_ecs.html" title="previous chapter">Working with the Entity-Component System</a></li>
      <li>Next: <a href="event_driven_architecture.html" title="next chapter">Orrery’s Event Architecture</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023-2023, Shi Johnson-Bey.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.1.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/relationships.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>